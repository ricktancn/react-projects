{"ast":null,"code":"import _slicedToArray from\"D:/Repos/react-projects/09-classy-weather/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"D:/Repos/react-projects/09-classy-weather/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useState}from\"react\";import{useWeather}from\"./useWeather\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function formatDay(dateStr){return new Intl.DateTimeFormat(\"en\",{weekday:\"short\"}).format(new Date(dateStr));}function getWeatherIcon(wmoCode){var icons=new Map([[[0],\"☀️\"],[[1],\"🌤\"],[[2],\"⛅️\"],[[3],\"☁️\"],[[45,48],\"🌫\"],[[51,56,61,66,80],\"🌦\"],[[53,55,63,65,57,67,81,82],\"🌧\"],[[71,73,75,77,85,86],\"🌨\"],[[95],\"🌩\"],[[96,99],\"⛈\"]]);var arr=_toConsumableArray(icons.keys()).find(function(key){return key.includes(wmoCode);});if(!arr)return\"NOT FOUND\";return icons.get(arr);}export default function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];var _useWeather=useWeather(location),displayLocation=_useWeather.displayLocation,weather=_useWeather.weather,isLoading=_useWeather.isLoading,error=_useWeather.error;return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Classy Weather\"}),/*#__PURE__*/_jsx(Input,{location:location,setLocation:setLocation}),isLoading&&/*#__PURE__*/_jsx(\"p\",{className:\"loader\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),!error&&weather.weathercode&&/*#__PURE__*/_jsx(Weather,{weather:weather,location:displayLocation})]});}function Input(_ref){var location=_ref.location,setLocation=_ref.setLocation;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search from location...\",value:location,onChange:function onChange(e){return setLocation(e.target.value);}})});}function Weather(_ref2){var weather=_ref2.weather,location=_ref2.location;var max=weather.temperature_2m_max,min=weather.temperature_2m_min,dates=weather.time,codes=weather.weathercode;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Weather \",location]}),/*#__PURE__*/_jsx(\"ul\",{className:\"weather\",children:dates.map(function(date,i){return/*#__PURE__*/_jsx(Day,{date:date,max:max.at(i),min:min.at(i),code:codes.at(i),isToday:i===0},date);})})]});}function Day(_ref3){var date=_ref3.date,max=_ref3.max,min=_ref3.min,code=_ref3.code,isToday=_ref3.isToday;return/*#__PURE__*/_jsxs(\"li\",{className:\"day\",children:[/*#__PURE__*/_jsx(\"span\",{children:getWeatherIcon(code)}),/*#__PURE__*/_jsx(\"p\",{children:isToday?\"Today\":formatDay(date)}),/*#__PURE__*/_jsxs(\"p\",{children:[Math.floor(min),\"\\xB0 \\u2014 \",/*#__PURE__*/_jsxs(\"strong\",{children:[Math.ceil(max),\"\\xB0\"]})]})]});}","map":{"version":3,"names":["useState","useWeather","jsx","_jsx","jsxs","_jsxs","formatDay","dateStr","Intl","DateTimeFormat","weekday","format","Date","getWeatherIcon","wmoCode","icons","Map","arr","_toConsumableArray","keys","find","key","includes","get","App","_useState","_useState2","_slicedToArray","location","setLocation","_useWeather","displayLocation","weather","isLoading","error","className","children","Input","weathercode","Weather","_ref","type","placeholder","value","onChange","e","target","_ref2","max","temperature_2m_max","min","temperature_2m_min","dates","time","codes","map","date","i","Day","at","code","isToday","_ref3","Math","floor","ceil"],"sources":["D:/Repos/react-projects/09-classy-weather/src/App.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useWeather } from \"./useWeather\";\r\n\r\nfunction formatDay(dateStr) {\r\n  return new Intl.DateTimeFormat(\"en\", {\r\n    weekday: \"short\",\r\n  }).format(new Date(dateStr));\r\n}\r\n\r\nfunction getWeatherIcon(wmoCode) {\r\n  const icons = new Map([\r\n    [[0], \"☀️\"],\r\n    [[1], \"🌤\"],\r\n    [[2], \"⛅️\"],\r\n    [[3], \"☁️\"],\r\n    [[45, 48], \"🌫\"],\r\n    [[51, 56, 61, 66, 80], \"🌦\"],\r\n    [[53, 55, 63, 65, 57, 67, 81, 82], \"🌧\"],\r\n    [[71, 73, 75, 77, 85, 86], \"🌨\"],\r\n    [[95], \"🌩\"],\r\n    [[96, 99], \"⛈\"],\r\n  ]);\r\n  const arr = [...icons.keys()].find((key) => key.includes(wmoCode));\r\n  if (!arr) return \"NOT FOUND\";\r\n  return icons.get(arr);\r\n}\r\n\r\nexport default function App() {\r\n  const [location, setLocation] = useState(\"\");\r\n  const { displayLocation, weather, isLoading, error } = useWeather(location);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <h1>Classy Weather</h1>\r\n      <Input location={location} setLocation={setLocation} />\r\n\r\n      {isLoading && <p className=\"loader\">Loading...</p>}\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {!error && weather.weathercode && (\r\n        <Weather weather={weather} location={displayLocation} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Input({ location, setLocation }) {\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search from location...\"\r\n        value={location}\r\n        onChange={(e) => setLocation(e.target.value)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Weather({ weather, location }) {\r\n  const {\r\n    temperature_2m_max: max,\r\n    temperature_2m_min: min,\r\n    time: dates,\r\n    weathercode: codes,\r\n  } = weather;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Weather {location}</h2>\r\n      <ul className=\"weather\">\r\n        {dates.map((date, i) => (\r\n          <Day\r\n            date={date}\r\n            max={max.at(i)}\r\n            min={min.at(i)}\r\n            code={codes.at(i)}\r\n            key={date}\r\n            isToday={i === 0}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Day({ date, max, min, code, isToday }) {\r\n  return (\r\n    <li className=\"day\">\r\n      <span>{getWeatherIcon(code)}</span>\r\n      <p>{isToday ? \"Today\" : formatDay(date)}</p>\r\n      <p>\r\n        {Math.floor(min)}&deg; &mdash; <strong>{Math.ceil(max)}&deg;</strong>\r\n      </p>\r\n    </li>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}